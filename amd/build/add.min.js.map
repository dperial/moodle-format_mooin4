{"version":3,"sources":["../src/add.js"],"names":["define","$","chapterId","chapterSectionNumber","click","event","Y","log","currentTarget","classList","substring","length","idC","titleC","sectionCount","courseIdC","parseInt","defaultValue","dataChapter","id","courseid","chapter_title","sectionid","sectionnumber","ajax","type","data","url","success","window","location","reload"],"mappings":"AAsBCA,OAAM,qBAAC,CAAC,QAAD,CAAD,CAAa,SAACC,CAAD,CAAO,IAEnBC,CAAAA,CAAS,CAAG,CAFO,CAGnBC,CAAoB,CAAG,CAHJ,CAIvBF,CAAC,CAAC,oBAAD,CAAD,CAAwBG,KAAxB,CAA8B,SAASC,CAAT,CAAgB,CAE1CC,CAAC,CAACC,GAAF,CAAMF,CAAN,EACAH,CAAS,CAAGG,CAAK,CAACG,aAAN,CAAoBC,SAApB,CAA8B,CAA9B,EAAiCC,SAAjC,CAA2C,CAA3C,CAA8CL,CAAK,CAACG,aAAN,CAAoBC,SAApB,CAA8B,CAA9B,EAAiCE,MAA/E,CAAZ,CAH0C,GAItCC,CAAAA,CAAG,CAAGX,CAAC,CAAC,cAAgBC,CAAjB,CAJ+B,CAKtCW,CAAM,CAAGZ,CAAC,CAAC,iBAAmBC,CAApB,CAL4B,CAMtCY,CAAY,CAAGb,CAAC,CAAC,yBAA2BC,CAA5B,CANsB,CAOtCa,CAAS,CAAGd,CAAC,CAAC,aAAeC,CAAhB,CAPyB,CAS1CC,CAAoB,CAAGa,QAAQ,CAACF,CAAY,CAAC,CAAD,CAAZ,CAAgBG,YAAjB,CAAR,CAAyC,CAAhE,CACAX,CAAC,CAACC,GAAF,CAAM,kCAAoCL,CAA1C,EACA,GAAIgB,CAAAA,CAAW,CAAG,CACNC,EADM,CACDH,QAAQ,CAACJ,CAAG,CAAC,CAAD,CAAH,CAAOK,YAAR,CADP,CAENG,QAFM,CAEKJ,QAAQ,CAACD,CAAS,CAAC,CAAD,CAAT,CAAaE,YAAd,CAFb,CAGNI,aAHM,CAGUR,CAAM,CAAC,CAAD,CAAN,CAAUI,YAHpB,CAINK,SAJM,CAIMN,QAAQ,CAACd,CAAD,CAJd,CAKNqB,aALM,CAKUpB,CALV,CAAlB,CAMAG,CAAC,CAACC,GAAF,CAAMW,CAAN,EACAjB,CAAC,CAACuB,IAAF,CAAO,CACHC,IAAI,CAAE,MADH,CAEHC,IAAI,CAAER,CAFH,CAGHS,GAAG,CAAE,qBAHF,CAIHC,OAAO,CAAE,iBAACV,CAAD,CAAiB,CACtBZ,CAAC,CAACC,GAAF,CAAMW,CAAN,EACAW,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EACH,CAPE,CAAP,CAUH,CA5BD,CA6BF,CAjCK,CAAN","sourcesContent":["/* eslint-disable camelcase */\r\n// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Add new Section (Lektion) Title in Chapter Card.\r\n *\r\n * @module     format_mooin4/add\r\n * @copyright  2022 Perial Dupont Nguefack Kuaguim\r\n */\r\n define(['jquery'], ($) => {\r\n    // Var addSection = $('.chapteraddsection');\r\n    var chapterId = 0;\r\n    var chapterSectionNumber = 0;\r\n    $('.chapteraddsection').click(function(event) {\r\n        // Get all the data for Chapter so that when a new section is added, we just update the right chapter in DB\r\n        Y.log(event);\r\n        chapterId = event.currentTarget.classList[2].substring(7, event.currentTarget.classList[2].length);\r\n        let idC = $('.id_chapter' + chapterId);\r\n        let titleC = $('.chapter_title' + chapterId);\r\n        let sectionCount = $('.chapter_sectionnumber' + chapterId);\r\n        let courseIdC = $('.id_course' + chapterId);\r\n        // Increase the section nummber in chapter\r\n        chapterSectionNumber = parseInt(sectionCount[0].defaultValue) + 1;\r\n        Y.log('Add new Section increase + 1 : ' + chapterId);\r\n        var dataChapter = {};\r\n        dataChapter.id = parseInt(idC[0].defaultValue);\r\n        dataChapter.courseid = parseInt(courseIdC[0].defaultValue);\r\n        dataChapter.chapter_title = titleC[0].defaultValue;\r\n        dataChapter.sectionid = parseInt(chapterId);\r\n        dataChapter.sectionnumber = chapterSectionNumber;\r\n        Y.log(dataChapter);\r\n        $.ajax({\r\n            type: 'POST',\r\n            data: dataChapter,\r\n            url: 'add_new_section.php',\r\n            success: (dataChapter) => {\r\n                Y.log(dataChapter);\r\n                window.location.reload();\r\n            }\r\n        });\r\n        // Window.location.reload();\r\n    });\r\n });"],"file":"add.min.js"}