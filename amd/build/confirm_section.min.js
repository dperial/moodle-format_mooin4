define ("format_mooin4/confirm_section",["jquery","core/modal_factory","core/str","core/modal_events","core/notification"],function(a,b,c,d,e){var f=a(".section_delete"),g=0,h=0,i=0,j=0,k=0,l="",m=0,n=0;f.click(function(b){g=b.currentTarget.classList[0].substring(9,b.currentTarget.classList[0].length);h=b.currentTarget.classList[1].substring(10,b.currentTarget.classList[1].length);i=b.currentTarget.classList[2].substring(10,b.currentTarget.classList[2].length);var c=b.currentTarget.classList[3];k=a(".id_chapter"+h);l=a(".chapter_title"+h);m=a(".chapter_sectionnumber"+h);j=c.substring(c.lastIndexOf("=")+1);var d=parseInt(m[0].defaultValue);n=d-1});b.create({type:b.types.SAVE_CANCEL,title:c.get_string("delete_section","format_mooin4"),body:"<p> M\xF6chten Sie wirklich diese Lektion l\xF6schen ?</p>",preShowCallback:function preShowCallback(b,d){b=a(b);d.params={courseid:g,chapterid:h,sectionid:i,id_chapter:parseInt(k[0].defaultValue),chapter_title:l[0].defaultValue,sectionnumber:n,section_id_url:j};d.setSaveButtonText(c.get_string("delete_section","format_mooin4"))},large:!0},f).done(function(b){b.getRoot().on(d.save,function(c){c.preventDefault();var d=Y.one(".modal-footer");d.setContent("Deleting section...");var f=M.util.add_spinner(Y,d);f.show();Y.log(b.params);var g={courseid:b.params.courseid,chapterid:b.params.chapterid,sectionid:b.params.sectionid,idchapter:b.params.id_chapter,chaptertitle:b.params.chapter_title,sectionidurl:b.params.section_id_url,sectionnumber:b.params.sectionnumber};a.ajax({type:"POST",data:g,url:"delete_section.php",success:function success(a){Y.log(a);e.addNotification({message:" You have successfully deleted the section",type:"success"});window.location.reload()}});Y.log(g)})})});
//# sourceMappingURL=confirm_section.min.js.map
