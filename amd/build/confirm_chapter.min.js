define ("format_mooin4/confirm_chapter",["jquery","core/modal_factory","core/str","core/modal_events","core/notification"],function(a,b,c,d,e){var f=a(".chapter_delete"),g=0,h=0,i="";f.click(function(j){h=j.currentTarget.classList[2].substring(7,j.currentTarget.classList[2].length);var k=a(".chapter_sectionnumber"+h),l=a(".id_chapter"+h);i=a(".id_course"+h);window.chapterSectionNumber=parseInt(k[0].defaultValue);({id:parseInt(l[0].defaultValue),courseid:parseInt(i[0].defaultValue),sectionid:parseInt(h),sectionnumber:g});Y.log("1 Chapter section number :"+window.chapterSectionNumber);var m=window.chapterSectionNumber;if(0<m){Y.log("Chapter section number > 0:"+m);b.create({type:b.types.CONFIRM,title:c.get_string("delete_chapter","format_mooin4"),body:c.get_string("chapter_not_empty","format_mooin4"),preShowCallback:function preShowCallback(b,c){b=a(b);c.params={sectionnumber:g}},large:!0},f).done(function(a){a.getRoot().on(d.save,function(a){a.preventDefault();location.reload()})})}if(0==m){Y.log("Chapter section number == 0 :"+m);b.create({type:b.types.SAVE_CANCEL,title:c.get_string("delete_chapter","format_mooin4"),body:c.get_string("chapter_empty","format_mooin4"),preShowCallback:function preShowCallback(b,d){b=a(b);d.params={courseid:parseInt(i[0].defaultValue),chapterid:parseInt(h),sectionnumber:g};d.setSaveButtonText(c.get_string("delete_chapter","format_mooin4"))},large:!0},f).done(function(b){b.getRoot().on(d.save,function(c){c.preventDefault();var d=Y.one(".modal-footer");d.setContent("Deleting chapter...");var f=M.util.add_spinner(Y,d);f.show();Y.log(b.params);var g={courseid:b.params.courseid,chapterid:b.params.chapterid,sectionnumber:b.params.sectionnumber};a.ajax({type:"POST",data:g,url:"delete_chapter.php",success:function success(a){Y.log(a);e.addNotification({message:" You have successfully deleted the chapter",type:"success"});window.location.reload()}});Y.log(g)})})}})});
//# sourceMappingURL=confirm_chapter.min.js.map
